# Текстовый доклад

## Обо мне

Меня зовут Ваганов Вадим, я руководитель разработки и Head of Profession Backend в Газпромбанке.
Я обожаю делиться опытом, а также обучать и приносить пользу другим. Все мои доклады я строю на своих личных
историях, так что этот будет таким же. Если тебе понравится доклад и ты захочешь ознакомиться с другим моим
контентом - приглашаю в [мой телеграм-канал](https://t.me/vaganov_vadim). Погнали!

## Что делать, если есть трудности с презентацией и оценкой своей работы

Когда я только начинал, я выбрал дорожку бэкенда. Тогда ещё не было такого обилия курсов, поэтому я учился по 
ресурсам, которые мог найти, а также старался применить навыки программирования в ежедневной деятельности - в работе,
для бытовых задач и т. д. (кстати, это лучший способ стать разработчиком, если разрабатываешь - то ты разработчик).

Перегоняешь какие-то байтики между файликами, что-то выводишь в консоль, радуясь тому, что у тебя хоть что-то 
скомпилировалось и заработало, правда вот тут баг какой-то, с которым ты ещё не разобрался, ну да ладно, прогресс.
Показываешь другу не-айтишнику - и он такой: "Ничего не понятно, но очень интересно, ты молодец (а что он делает-то?)"

В это время фронтэндер рисует красивейшую кнопку, которая просто икрементирует число, реакция - "ЕДРИТЬ, ЧУВАК, ДА 
ТЫ БОГ, ТЫ СОЗДАЛ ЧТО-ТО ИЗ НИЧЕГО, ГДЕ ЭТОМУ НАУЧИТЬСЯ?"

Ну понимаете о чём я - продемонстрировать это тяжелее.

И самое интересное, что проблема-то гораздо глубже, чем убедить друга, что ты занимаешься не какой-то фигнёй.
Годом позже поймёшь, что в общем-то демонстрировать свою работу нужно как коллегам по команде, так и представителям 
бизнеса, ну да ладно, у нас UI красивый, на нём всё видно. А потом ты попадаешь в команду, где нет UI - таааааааак, 
падажи...

Позже окажется, что без мониторинга **вы слепы**, вы просто не знаете, что происходит с приложением, особенно под 
нагрузкой.

Также оказалось, что эта тема по какой-то причине недооценённая. Часто задумываются о качественном мониторинге 
только люди, работающие с высокой нагрузкой. Не совершайте эту ошибку, вам нужен мониторинг.  

Обещание: дам вам понимание и мотивацию погрузиться в мониторинг, докажу, почему вам стоит углубиться в этот навык, 
и объясню, почему благодаря мониторингу вы станете более крутым инженером.

Решение - мониторинг. Давайте разбираться.

## Как метрики и мониторинг могут помочь решить эту проблему

Важно: я не хочу просто рассказывать и сделать этой вводной лекцией по мониторингу. Я хочу поделиться опытом и дать 
перспективу - очевидно, что вы когда-нибудь услышите, что мониторинг это важно. Но я попробую вас поттолкнуть 
открыть его для себя пораньше, вы не пожалеете.

Также дисклеймер: мониторинг - более широкая тема, но сегодня будет говорить в первую очередь про метрики и их 
визуализацию.

Давайте начнём с простого - когда вы сделали фичу - как вы поймёте, что она работает?
Ну окей, написали тесты, прошли код-ревью, как понять, что на продакшене фича работает?

Кидаем запрос. Работает. Достаточно? Кидаем ещё 100 - работает. А потом прилетает другие 100, которые не работают.

Возможно, вы скажете - логи. Да, логи правда нужны и важны. Но внезапно у вас приходит не 100 запросов, а 100 
запросов в секунду. Ручками просмотрим все логи? Можно, но неудобно. Логирование - важная тема, но давайте её 
сегодня оставим за скобками.

Так вот, как вашему коллеге понять, что всё работает как надо? ДевОпсу, поддержке, вашему боссу? Чёрт возьми, да как 
самому понять, что оно "взлетело"?

TODO: добавить дашборд, где 99 ошибок и 1 успешный, ради примера, что только массовая статистика что-то может 
сказать о работе приложения.

```text
Без мониторинга вы слепы. Вы не знаете, что происходит с вашим приложением, вы даже не знаете, работает ли фича как вы 
ожидаете.
```

Давайте подумаем, а чего мы собственно хотим? Мы хотим получить какую-то информацию о состоянии приложения в моменте 
времени. Внезапно, такая штука существует и называется "метрики". Метрики - это данные, которые собираются для 
измерения и отслеживания состояния системы.

Окей, мы посмотрели, что такое [micrometer](https://micrometer.io/) или аналог, если у вас не java. Смогли настроить,
получили вот такую [портянку](./static/actuator-prometheus-example.txt).

Что-то из неё можем получить, да, какой-то текущий срез состояния приложения. Но, вот проблема, нам историчность 
какая-то нужна, метрики вещь относительная, мы не можем судить только по кванту времени, за который взяты метрики, 
иначе получится как с примером выше. То есть, нам бы это где-то хранить.

Берём [Prometheus](http://prometheus.io/), который решает эту проблему - он "забирает" метрики приложения и хранит 
их, позволяя делать 
выборки по времени.

Так, осталась ещё одна проблема - по сути у нас есть "сырые" данные, которыми мы можем оперировать, но "красоты" тут 
всё ещё нет. [Grafana](https://grafana.com/) - идёт нас спасать!

Инструментарий готов. Теперь мы можем:
- создавать любые метрики в приложении;
- собирать, хранить и получать метрики за выбранный период;
- визуализировать метрики как душе угодно.

Это настолько просто и эффективно, что нет никаких оправданий не делать это. В итоге у нас база, на которой мы можем 
работать и наш бэкенд теперь тоже _красивый_, не стыдно другу показать!

## Что отслеживать в backend-приложениях



## Почему мониторинг — это навык, который стоит прокачать любому инженеру

• Трансформация инженерной роли  
– Мониторинг как важная составляющая DevOps и SRE практик  
– Взаимодействие мониторинга с процессами CI/CD  
– Как знание мониторинга помогает принимать обоснованные решения и оптимизировать процессы в разработке

• Навыки в аналитике и автоматизации  
– Построение дашбордов, написание скриптов для анализа логов, интеграция с алертинг-системами  
– Примеры того, как автоматизированный мониторинг снижает вероятность человеческих ошибок

• Роль мониторинга в будущем  
– Растущая сложность распределённых систем и микросервисной архитектуры  
– Важность уметь предвидеть и предотвращать проблемы  
– Как мониторинг помогает в адаптации к быстро меняющимся требованиям рынка